var UserList=function($){function e(){var e=$("window").height();$(".main-container").height(e-s),g=$(window).width()}function t(){if(!$("#map").length)return!1;var e=[{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#26B65F"}]},{featureType:"landscape.natural",stylers:[{saturation:16},{color:"#95E2E5"},{lightness:24}]},{featureType:"administrative",stylers:[{visibility:"off"}]}],t={center:new google.maps.LatLng(0,0),zoom:4,navigationControl:!1,mapTypeControl:!1,styles:e,scrollwheel:!1};a=new google.maps.Map(document.getElementById("map"),t),defaultZoom=a.getZoom();var o=[],i=[],n=[],r=0}function o(){var e=parseInt($(r.list).find(r.node).outerWidth()),t=$(r.list).find(r.node).length,o=e*t;$(r.list).find(r.inner+":first").width(o),d=$(r.list).jScrollPane({verticalGutter:8,animateScroll:!0}).data("jsp")}function i(){$.each(user_data,function(e,t){var o=t.uid,i={skin:t.field_skin_tone,shirt:t.field_shirt_color,pants:t.field_pants_color,hair:t.field_hair_color};el=$(".person[rel='"+o+"']"),image=el.find(".person__svg").contentDocument,$.each(i,function(e,t){console.log(image)})})}function n(){function t(e){var t=e.lng(),o={path:"M 0,-1 0,1",strokeOpacity:1,strokeWeight:1,scale:3},i=new google.maps.Marker({position:e,map:a,icon:theme_dir+"/images/dot.png"}),n=[e,new google.maps.LatLng(0,l)],r=new google.maps.Polyline({path:n,strokeOpacity:0,strokeColor:"#fff",zIndex:2,icons:[{icon:o,offset:"0",repeat:"10px"}],map:a})}e(),o(),i();var n=6,r=[],s=0,l=0,d=n/365222;if("undefined"==typeof user_data)return!1;var g=new google.maps.Geocoder;for(var f in user_data){var u=user_data[f];if(u.location_latitude&&u.location_longitude){var p=new google.maps.LatLng(u.location_latitude,u.location_longitude);t(p)}else{continue;var w=u.field_field_city[0].raw.value,m=u.field_field_country[0].raw.value,v=w+" , "+m;g.geocode({location:c},function(e,o){if(o==google.maps.GeocoderStatus.OK){var i=e[0].geometry.location;t(i)}})}l+=d}var h=new google.maps.LatLng(0,s),y=new google.maps.LatLng(0,l),_={zIndex:2,geodesic:!0,lineLength:l,path:[h,y],strokeColor:"#ff0000",map:a,strokeWeight:1,strokeOpacity:1},L=new google.maps.Polyline(_)}var a,r={list:$(".view-list-users.view-display-id-logged_in").length?".view-list-users.view-display-id-logged_in":".view-list-users.view-display-id-logged_out",inner:".view-inner",node:".views-row"},s=$("#map").height(),l=$(r.list),d,g=$(window).width();t(),n(),this.goToCurrentUser=function(){$user=$(".current-user"),$user.length&&setTimeout(function(){d.scrollTo($user.offset().left+.5*$user.width()-.5*g)},300)}};window.onload=function(){var $=jQuery.noConflict();if("undefined"==typeof user_data)throw"Did not get user data!";var e=new UserList($);e.goToCurrentUser()};